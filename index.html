<!DOCTYPE html>
<html lang="en">
    
    <head>
        <!-- Required meta tags -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        
        <title>Javascript Calculator</title>
        
        <!-- Fontawesome -->
        <script src="https://use.fontawesome.com/780ce05cc4.js"></script>
        
        <!-- Styles -->
        <link rel="stylesheet" href="style.css">
        
    </head>
    
    <body>
        
        <div class="container">
            <div class="calc-container">
                <div class="display">
                    <div class="result-container"><p class="result"></p></div>
                </div>
                <div class="breadcrumbs">
                    <div class="crumb-wrapper crumb-wrapper-0">
                    </div>
                </div>
                <div class="keypad">
                    <p class="button keypad-button one">1</p>
                    <p class="button keypad-button two">2</p>
                    <p class="button keypad-button three">3</p>
                    <p class="button keypad-button four">4</p>
                    <p class="button keypad-button five">5</p>
                    <p class="button keypad-button six">6</p>
                    <p class="button keypad-button seven">7</p>
                    <p class="button keypad-button eight">8</p>
                    <p class="button keypad-button nine">9</p>
                    <p class="button keypad-button percent">&percnt;</p>
                    <p class="button keypad-button zero">0</p>
                    <p class="button keypad-button period">&period;</p>
                </div>
                <div class="operators">
                    <p class="button operator-button divide">&div;</p>
                    <p class="button operator-button minus">&minus;</p>
                    <p class="button operator-button plus">&plus;</p>
                    <p class="button operator-button times">&times;</p>
                </div>
                <div class="clear-eval">
                    <p class="button clear-eval-button clear">Clear</p>
                    <p class="button clear-eval-button evaluate">&equals;</p>
                </div>
            </div>
        </div>
        
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
        
        <script type="text/javascript">
            
            window.onload = function() {
                
                var id;
                var equalClicks = 0;
                console.log("Equal button clicks: " + equalClicks);
                
                // initialize expression
                var expression = "";
                var breadcrumb = [];
                
                // update expression on click
                $(".one").click(function() {
                    console.log($(this).text());
                    expression = expression + $(this).text();
                    addCrumb();
                });
                $(".two").click(function() {
                    console.log($(this).text());
                    expression = expression + $(this).text();
                    addCrumb();
                });
                $(".three").click(function() {
                    console.log($(this).text());
                    expression = expression + $(this).text();
                    addCrumb();
                });
                $(".four").click(function() {
                    console.log($(this).text());
                    expression = expression + $(this).text();
                    addCrumb();
                });
                $(".five").click(function() {
                    console.log($(this).text());
                    expression = expression + $(this).text();
                    addCrumb();
                });
                $(".six").click(function() {
                    console.log($(this).text());
                    expression = expression + $(this).text();
                    addCrumb();
                });
                $(".seven").click(function() {
                    console.log($(this).text());
                    expression = expression + $(this).text();
                    addCrumb();
                });
                $(".eight").click(function() {
                    console.log($(this).text());
                    expression = expression + $(this).text();
                    addCrumb();
                });
                $(".nine").click(function() {
                    console.log($(this).text());
                    expression = expression + $(this).text();
                    addCrumb();
                });
                $(".percent").click(function() {
                    console.log($(this).text());
                    expression = expression + $(this).text();
                    addCrumb();
                });
                $(".zero").click(function() {
                    console.log($(this).text());
                    expression = expression + $(this).text();
                    addCrumb();
                });
                $(".period").click(function() {
                    console.log($(this).text());
                    expression = expression + $(this).text();
                    addCrumb();
                });
                $(".divide").click(function() {
                    console.log($(this).text());
                    expression = expression + $(this).text();
                    addCrumb();
                });
                $(".minus").click(function() {
                    console.log($(this).text());
                    expression = expression + $(this).text();
                    addCrumb();
                });
                $(".plus").click(function() {
                    console.log($(this).text());
                    expression = expression + $(this).text();
                    addCrumb();
                });
                $(".times").click(function() {
                    console.log($(this).text());
                    expression = expression + $(this).text();
                    addCrumb();
                });
                
                // add breadcrumbs
                function addCrumb() {
                    var breadcrumbs = expression.split("");
                    console.log("addCrumb");
                    console.log(breadcrumbs);
                    var html = "";
                    for (i=0; i<breadcrumbs.length; i++) {
                        html = html + "<div class='crumb'>" + breadcrumbs[i] + "</div>"
                    }
                    console.log(html);
                    $(".crumb-wrapper-" + equalClicks).html(html);
                }
                
                // evaluate expression
                $(".evaluate").click(function() {
                    console.log("evaluate");
                    console.log(expression);
                    equalClicks++; // keep track of number of equal clicks
                    console.log("Equal button clicks: " + equalClicks);
                    $(".result").html(eval(expression));
                    $(".breadcrumbs").append("<div class='crumb-wrapper block-a'></div>");
                });
                
                // clear results
                $(".clear").click(function() {
                    console.log("clear");
                    expression = "";
                    $(".result").html("");
                    $(".crumb-wrapper").html("").css("display","none");
                });

            }
            
        </script>
        
    </body>
    
</html>